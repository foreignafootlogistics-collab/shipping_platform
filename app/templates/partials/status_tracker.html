{# app/templates/partials/status_tracker.html #}
{# BAR ONLY - do not render badge text here #}

{% set s = (status or '')|trim %}
{% set s_lc = s|lower %}

{% set progress_width = 0 %}
{% set fill_bg = '#6c757d' %}

{% if s_lc in ['delivered'] or 'delivered' in s_lc %}
  {% set progress_width = 100 %}
  {% set fill_bg = '#16a34a' %}
{% elif 'out for delivery' in s_lc %}
  {% set progress_width = 90 %}
  {% set fill_bg = '#2563eb' %}
{% elif s_lc == 'overseas' %}
  {% set progress_width = 33 %}
  {% set fill_bg = '#dc2626' %}
{% elif 'local port' in s_lc or 'received at local port' in s_lc or 'arrived' in s_lc %}
  {% set progress_width = 66 %}
  {% set fill_bg = '#facc15' %}
{% elif 'ready' in s_lc or 'pick up' in s_lc or 'pickup' in s_lc %}
  {% set progress_width = 80 %}
  {% set fill_bg = '#2563eb' %}
{% elif s_lc == 'unassigned' %}
  {% set progress_width = 0 %}
  {% set fill_bg = '#7c3aed' %}
{% endif %}

<div class="status-progress mt-1"
     style="height:8px;background:#e5e7eb;border-radius:999px;overflow:hidden;width:100%;">
  <div class="fill"
       style="height:100%;width:{{ progress_width }}%;background:{{ fill_bg }};transition:width .3s ease-in-out;">
  </div>
</div>
