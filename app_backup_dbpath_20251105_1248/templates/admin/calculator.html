{% extends "layout_admin.html" %}
{% block title %}Admin Calculator{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>ðŸ“Š Admin Customs Calculator</h2>

    <form method="POST" class="row g-3">
        <div class="col-md-4">
            <label class="form-label">Category</label>
            <select name="category" class="form-select">
                {% for cat in categories %}
                  <option value="{{ cat }}">{{ cat }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="col-md-4">
            <label class="form-label">Invoice Value (USD)</label>
            <input type="number" step="0.01" name="invoice_usd" class="form-control" required>
        </div>
        <div class="col-md-4">
            <label class="form-label">Weight (lb)</label>
            <input type="number" step="0.01" name="weight" class="form-control" required>
        </div>
        <div class="col-12">
            <button type="submit" class="btn btn-primary">Calculate</button>
        </div>
    </form>

    {% if result %}
    <div class="mt-4">
        <h4>ðŸ’¡ Calculation Result</h4>
        <ul class="list-group">
            <li class="list-group-item">Duty: ${{ result.duty }}</li>
            <li class="list-group-item">SCF: ${{ result.scf }}</li>
            <li class="list-group-item">ENVL: ${{ result.envl }}</li>
            <li class="list-group-item">CAF: ${{ result.caf }}</li>
            <li class="list-group-item">GCT: ${{ result.gct }}</li>
            <li class="list-group-item fw-bold">Total: ${{ result.grand_total }}</li>
        </ul>
    </div>
    {% endif %}
</div>
{% endblock %}
